localparam USB_mem_module_start = 4'b0001;
localparam USB_mem_module_end   = 4'b1100;

genvar i;
generate
    for(i=USB_mem_module_start; i<=USB_mem_module_end; i=i+1'b1)
    begin: USB_mem
        SB_RAM40_4K  #(
                       .WRITE_MODE(1),
                       .READ_MODE(1),
                       .INIT_0(256'h0000000000000000000000000000000000000000000000000000000000000000),
                       .INIT_1(256'h0000000000000000000000000000000000000000000000000000000000000000),
                       .INIT_2(256'h0000000000000000000000000000000000000000000000000000000000000000),
                       .INIT_3(256'h0000000000000000000000000000000000000000000000000000000000000000),
                       .INIT_4(256'h0000000000000000000000000000000000000000000000000000000000000000),
                       .INIT_5(256'h0000000000000000000000000000000000000000000000000000000000000000),
                       .INIT_6(256'h0000000000000000000000000000000000000000000000000000000000000000),
                       .INIT_7(256'h0000000000000000000000000000000000000000000000000000000000000000),
                       .INIT_8(256'h0000000000000000000000000000000000000000000000000000000000000000),
                       .INIT_9(256'h0000000000000000000000000000000000000000000000000000000000000000),
                       .INIT_A(256'h0000000000000000000000000000000000000000000000000000000000000000),
                       .INIT_B(256'h0000000000000000000000000000000000000000000000000000000000000000),
                       .INIT_C(256'h0000000000000000000000000000000000000000000000000000000000000000),
                       .INIT_D(256'h0000000000000000000000000000000000000000000000000000000000000000),
                       .INIT_E(256'h0000000000000000000000000000000000000000000000000000000000000000),
                       .INIT_F(256'h0000000000000000000000000000000000000000000000000000000000000000)
                      )
        ram512x8_USB  (
                       // READ signals
                       .RDATA((mem_r_selector_w[i]) ? mem_USB_r_DATA_w : 8'bz), // [Output]
                       .RADDR(mem_USB_r_ADDR_w), // [Input]
                       .RE(mem_r_selector_w[i]), // [Input]
                       .RCLK(clk_ctrl),          // [Input]
                       .RCLKE(mem_r_clk_en_w),   // [Input]
                       
                       // WRITE signals
                       .WDATA(mem_USB_w_DATA_w), // [Input]
                       .WADDR(mem_USB_w_ADDR_w), // [Input]
                       .WE(mem_w_selector_w[i]), // [Input]
                       .WCLK(clk_ctrl),          // [Input]
                       .WCLKE(mem_w_clk_en_w)    // [Input]
                      );
    end
endgenerate

